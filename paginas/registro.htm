<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
<link rel="stylesheet" href="https://marcosfransa.github.io/contas/codigos/estilo.css" type="text/css" />
<link rel="shortcut icon" type="image/png" href="https://marcosfransa.github.io/contas/imagens/icone.png"/>
<script type="text/javascript" src="https://marcosfransa.github.io/contas/codigos/codigo.js"></script>
<script>document.write("<script src='"+caminho+"/base/corrente.js'></\script>");</script>
<script>document.write("<script src='"+caminho+"/base/mensal.js'></\script>");</script>
<title>Contas</title>
</head>
<body onselectstart="return false" class="fadeOut">
<center>
<div id="topo">
<TABLE border="0" style="border-collapse: collapse; height: 50" cellspacing="0" width="100%" cellpadding="0" class="menu">
  <TR>
	<TD align="center" width="10"></TD>
	<TD vAlign="middle">
		<font size="5"><font size="6">R</font>EGISTRO</font>
	</TD>
	<TD align="center" width="50" class="Ctoque"><div style="background: url(https://marcosfransa.github.io/contas/imagens/calculadora.png) no-repeat center; border: solid 2px #1E90FF;-webkit-filter: grayscale(100%); opacity: 0.7;" class="btimg btico" onclick="if (dispositivo) android.AbreApp('app.popupcalculator')"></div></TD>
	<TD align="center" width="5"></TD>
  </TR>
</TABLE>
</div>
<div id="corpo">
<TABLE border="0" cellspacing="0" width="100%" cellpadding="0">
  <TR style="height: 30">
  </TR>
</TABLE>
<TABLE id="formula" border="0" style="position: relative" cellspacing="10" width="90%" cellpadding="0">
  <TBODY>
  <TR>
	<TD vAlign="middle" colspan="3">
		<INPUT type="hidden" id="codigo" name="codigo" /><INPUT type="hidden" id="forma" name="forma" /><INPUT type="number" style="background: #111111; width: 100%; height: 50; font-size: 45px; color: #FFFFFF; text-align: right; border-radius: 0.0em; box-shadow: #FFFFFF 0.0em 0.0em 0.0em; border-bottom: solid 1px #909090; padding: 0.5em; border-radius: 0.2em;" id="valor" name="valor" onblur="salvo=true" class="btimg" /><p><font style="color:#909090" size="3">Valor</font>
	</TD>
  </TR>
  <TR>
	<TD vAlign="middle" colspan="3">
		<INPUT type="text" style="background: #111111; width: 100%; height: 50; font-size: 40px; color: #FFFFFF; border-radius: 0.0em; box-shadow: #FFFFFF 0.0em 0.0em 0.0em; border-bottom: solid 1px #909090; padding: 0.5em; border-radius: 0.2em;" id="descricao" name="descricao" onkeyup="this.value=Maiuscula(this.value)" onchange="salvo=true" class="btimg" /><p><font style="color:#909090; padding: 0.5em; border-radius: 0.5em;" size="3">Descrição</font>
	</TD>
  </TR>
  <TR id="regsimples">
	<TD vAlign="middle" colspan="3">
		<INPUT type="date" style="background: #111111; width: 100%; height: 50; font-size: 40px; color: #FFFFFF; border-radius: 0.0em; box-shadow: #FFFFFF 0.0em 0.0em 0.0em; border-bottom: solid 1px #909090; padding: 0.5em; border-radius: 0.2em;" onchange="salvo=true" id="data" name="data" class="btimg" /><p><font style="color:#909090" size="3">Data</font>
	</TD>
  </TR>
  <TR id="regmensal" hidden>
	<TD vAlign="middle" width="30%">
		<INPUT type="number" style="background: #111111; width: 100%; height: 50; font-size: 40px; color: #FFFFFF; border-radius: 0.0em; box-shadow: #FFFFFF 0.0em 0.0em 0.0em; border-bottom: solid 1px #909090; padding: 0.5em; border-radius: 0.2em;" id="vencimento" name="vencimento" onchange="salvo=true" class="btimg" /><p><font style="color:#909090" size="3">Dia</font>
	</TD>
	<TD vAlign="middle" width="30%">
		<INPUT type="number" style="background: #111111; width: 100%; height: 50; font-size: 40px; color: #FFFFFF; border-radius: 0.0em; box-shadow: #FFFFFF 0.0em 0.0em 0.0em; border-bottom: solid 1px #909090; padding: 0.5em; border-radius: 0.2em;" id="parcela" name="parcela" onchange="resto.value=this.value;salvo=true" class="btimg" /><p><font style="color:#909090" size="3">Parcela</font>
	</TD>
	<TD vAlign="middle" width="30%">
		<INPUT type="number" style="background: #111111; width: 100%; height: 50; font-size: 40px; color: #FFFFFF; border-radius: 0.0em; box-shadow: #FFFFFF 0.0em 0.0em 0.0em; border-bottom: solid 1px #909090; padding: 0.5em; border-radius: 0.2em;" id="resto" name="resto" onchange="salvo=true" class="btimg" /><p><font style="color:#909090" size="3">Resto</font>
	</TD>
  </TR>
  </TBODY>
</TABLE>
<TABLE border="0" cellspacing="0" width="100%" cellpadding="0">
  <TR style="height: 30">
  </TR>
</TABLE>
<TABLE border="0" style="position: relative; height: 120" cellspacing="10" width="100%" cellpadding="0">
  <TBODY>
  <TR>
	<TD vAlign="middle" align="center" width="20%">
		<TABLE id="bradesco" border="0" style="border-collapse: collapse" cellspacing="0" width="100%" cellpadding="0">
			<tr>
				<TD align="center"><div style="background: url(https://marcosfransa.github.io/contas/imagens/bradesco.png) no-repeat center; width: 45; height: 45; border-radius: 5em; border: solid 2px #1E90FF;-webkit-filter: grayscale(100%); opacity: 0.7;" class="btimg"></div></TD>
			</tr>
			<TR height="5"><TD valign="middle" align="center" width="100%"></TD></TR>
			<tr>
				<TD align="center"><font size="3">Bradesco</font></TD>
			</tr>
		</TABLE>
	</TD>
	<TD vAlign="middle" align="center" width="20%">
		<TABLE id="caixa" border="0" style="border-collapse: collapse" cellspacing="0" width="100%" cellpadding="0">
			<tr>
				<TD align="center"><div style="background: url(https://marcosfransa.github.io/contas/imagens/caixa.png) no-repeat center; width: 45; height: 45; border-radius: 5em; border: solid 2px #1E90FF;-webkit-filter: grayscale(100%); opacity: 0.7;" class="btimg"></div></TD>
			</tr>
			<TR height="5"><TD valign="middle" align="center" width="100%"></TD></TR>
			<tr>
				<TD align="center"><font size="3">Caixa</font></TD>
			</tr>
		</TABLE>
	</TD>
	<TD vAlign="middle" align="center" width="20%">
		<TABLE id="dinheiro" border="0" style="border-collapse: collapse" cellspacing="0" width="100%" cellpadding="0">
			<tr>
				<TD align="center"><div style="background: url(https://marcosfransa.github.io/contas/imagens/dinheiro.png) no-repeat center; width: 45; height: 45; border-radius: 5em; border: solid 2px #1E90FF;-webkit-filter: grayscale(100%); opacity: 0.7;" class="btimg"></div></TD>
			</tr>
			<TR height="5"><TD valign="middle" align="center" width="100%"></TD></TR>
			<tr>
				<TD align="center"><font size="3">Dinheiro</font></TD>
			</tr>
		</TABLE>
	</TD>
	<TD vAlign="middle" align="center" width="20%">
		<TABLE id="itau" border="0" style="border-collapse: collapse" cellspacing="0" width="100%" cellpadding="0">
			<tr>
				<TD align="center"><div style="background: url(https://marcosfransa.github.io/contas/imagens/itau.png) no-repeat center; width: 45; height: 45; border-radius: 5em; border: solid 2px #1E90FF;-webkit-filter: grayscale(100%); opacity: 0.7;" class="btimg"></div></TD>
			</tr>
			<TR height="5"><TD valign="middle" align="center" width="100%"></TD></TR>
			<tr>
				<TD align="center"><font size="3">Itau</font></TD>
			</tr>
		</TABLE>
	</TD>
	<TD vAlign="middle" align="center" width="20%">
		<TABLE id="modal" border="0" style="border-collapse: collapse" cellspacing="0" width="100%" cellpadding="0">
			<tr>
				<TD align="center"><div style="background: url(https://marcosfransa.github.io/contas/imagens/modal.png) no-repeat center; width: 45; height: 45; border-radius: 5em; border: solid 2px #1E90FF;-webkit-filter: grayscale(100%); opacity: 0.7;" class="btimg"></div></TD>
			</tr>
			<TR height="5"><TD valign="middle" align="center" width="100%"></TD></TR>
			<tr>
				<TD align="center"><font size="3">Modal</font></TD>
			</tr>
		</TABLE>
	</TD>
  </TR>
  </TBODY>
</TABLE>
<TABLE border="0" style="position: relative; height: 70" cellspacing="0" width="95%" cellpadding="0">
  <TBODY>
	<TR>
		<TD id="btExcluir" vAlign="bottom" align="center" width="49%" hidden>
			<INPUT style="background: #323232; width: 100%; height: 60; font-size: 25px; color: #FFFFFF; border-radius: 0.0em; border-top: solid 0px #909090; padding: 0.5em; border-radius: 0.5em;" type="button" onclick="ExcluiRegistro()" value="EXCLUIR" name="excluir" id="excluir" class="btimg toque" />
		</TD>
		<TD id="btEspaco" vAlign="bottom" align="center" width="1" hidden></TD>
		<TD vAlign="bottom" align="center" width="49%">
			<INPUT style="background: #323232; width: 100%; height: 60; font-size: 25px; color: #FFFFFF; border-radius: 0.0em; border-top: solid 0px #909090; padding: 0.5em; border-radius: 0.5em;" type="button" onclick="return SalvaRegistro()" value="SALVAR" name="salvar" id="salvar" class="btimg toque" />
		</TD>
	</TR>
  </TBODY>
</TABLE>
</div>
</center>
<script>
window.onerror = MensagemErro;
window.addEventListener('focus', function(){
    document.getElementById("formula").style.height = document.getElementsByTagName("body")[0].clientHeight-(315);
});
window.addEventListener('load', function(){
	document.getElementById("formula").style.height = document.getElementsByTagName("body")[0].clientHeight-(315);
});
var pagina = "", codigo = "";
window.onload = function() {
	var loc = location.search.substring(1, location.search.length);
	var params = loc.split("&");
	pagina = params[0].substring(params[0].indexOf('='), params[0].length);
	pagina = pagina.substring(1, pagina.lenght);
	if (params.length>1) {
		codigo = params[1].substring(params[1].indexOf('='), params[1].length);
		codigo = codigo.substring(1, codigo.lenght);
	}
	if (codigo=="") {
		LimparCamposRegistro(pagina);
	} else {
		PopulaCamposRegistro(pagina,codigo);
	}
}
var salvo = false;
function PopulaCamposRegistro(pagina,codigo) {
	if (pagina=="registro") {
		var TabExtrato = JSON.parse(pegaCorrente);
		document.getElementById("regsimples").hidden = "";
		document.getElementById("regmensal").hidden = "true";
		document.getElementById('data').hidden = "";
		document.getElementById('vencimento').hidden = "true";
		document.getElementById('parcela').hidden = "true";
		document.getElementById('resto').hidden = "true";
	} else {
		var TabExtrato = JSON.parse(pegaMensal);
		document.getElementById("regsimples").hidden = "true";
		document.getElementById("regmensal").hidden = "";
		document.getElementById('data').hidden = "true";
		document.getElementById('vencimento').hidden = "";
		document.getElementById('parcela').hidden = "";
		document.getElementById('resto').hidden = "";
	}
		
	TabExtrato.sort(function(a, b) {
		return a.Data > b.Data ? -1 : a.Data < b.Data ? 1 : 0;
		return a.Descricao < b.Descricao ? -1 : a.Descricao > b.Descricao ? 1 : 0;
		return a.Valor < b.Valor ? -1 : a.Valor > b.Valor ? 1 : 0;
	});

	var filtro = "TabExtrato[i].Codigo = "+codigo;

	for (var i=0; i<TabExtrato.length; i++) {
		if (TabExtrato[i].Codigo == codigo) {
			document.getElementById('btExcluir').hidden = "";
			document.getElementById('btEspaco').hidden = "";
			document.getElementById('codigo').value = TabExtrato[i].Codigo;
			document.getElementById('valor').value = TabExtrato[i].Valor.toFixed(2);
			document.getElementById('descricao').value = TabExtrato[i].Descricao;
			if (pagina=="registro") {
				document.getElementById('data').value = TabExtrato[i].Data.replace(/\//g,"-");
			} else {
				document.getElementById('vencimento').value = TabExtrato[i].Data;
				document.getElementById('parcela').value = TabExtrato[i].Parcela;
				document.getElementById('resto').value = TabExtrato[i].Resto;
			}
			document.getElementById('forma').value = TabExtrato[i].Forma;
			document.getElementById('caixa').style.opacity = 0.3;
			document.getElementById('modal').style.opacity = 0.3;
			document.getElementById('itau').style.opacity = 0.3;
			document.getElementById('bradesco').style.opacity = 0.3;
			document.getElementById('dinheiro').style.opacity = 0.3;
			if (TabExtrato[i].Forma=="CX") document.getElementById('caixa').style.opacity = 1;
			if (TabExtrato[i].Forma=="MD") document.getElementById('modal').style.opacity = 1;
			if (TabExtrato[i].Forma=="IT") document.getElementById('itau').style.opacity = 1;
			if (TabExtrato[i].Forma=="BR") document.getElementById('bradesco').style.opacity = 1;
			if (TabExtrato[i].Forma=="DM") document.getElementById('dinheiro').style.opacity = 1;
		}
	}
}
function LimparCamposRegistro(pagina) {
	document.getElementById('btExcluir').hidden = "true";
	document.getElementById('btEspaco').hidden = "true";
	document.getElementById('codigo').value = "";
	document.getElementById('valor').value = "";
	document.getElementById('descricao').value = "";
	document.getElementById('forma').value = "";
	document.getElementById('data').value = "";
	document.getElementById('vencimento').value = "";
	document.getElementById('parcela').value = "";
	document.getElementById('resto').value = "";
	if (pagina=="registro") {
		document.getElementById("regsimples").hidden = "";
		document.getElementById("regmensal").hidden = "true";
		document.getElementById('data').hidden = "";
		document.getElementById('vencimento').hidden = "true";
		document.getElementById('parcela').hidden = "true";
		document.getElementById('resto').hidden = "true";
	} else {
		document.getElementById("regsimples").hidden = "true";
		document.getElementById("regmensal").hidden = "";
		document.getElementById('data').hidden = "true";
		document.getElementById('vencimento').hidden = "";
		document.getElementById('parcela').hidden = "";
		document.getElementById('resto').hidden = "";
	}
}
function AcendeForma() {
	document.getElementById('forma').value = "";
	document.getElementById('caixa').style.opacity = 0.3;
	document.getElementById('modal').style.opacity = 0.3;
	document.getElementById('itau').style.opacity = 0.3;
	document.getElementById('bradesco').style.opacity = 0.3;
	document.getElementById('dinheiro').style.opacity = 0.3;
}
document.getElementById("caixa").onclick = function() {
	if (document.getElementById('forma').value!="CX") {
		AcendeForma();
		document.getElementById('caixa').style.opacity = 1;
		document.getElementById('forma').value = "CX";
	} else {
		if (document.getElementById('forma').value=="CX") document.getElementById('forma').value = "";
		AcendeForma();
	}
	salvo = true;
}
document.getElementById("modal").onclick = function() {
	if (document.getElementById('forma').value!="MD") {
		AcendeForma();
		document.getElementById('modal').style.opacity = 1;
		document.getElementById('forma').value = "MD";
	} else {
		if (document.getElementById('forma').value=="MD") document.getElementById('forma').value = "";
		AcendeForma();
	}
	salvo = true;
}
document.getElementById("itau").onclick = function() {
	if (document.getElementById('forma').value!="IT") {
		AcendeForma();
		document.getElementById('itau').style.opacity = 1;
		document.getElementById('forma').value = "IT";
	} else {
		if (document.getElementById('forma').value=="IT") document.getElementById('forma').value = "";
		AcendeForma();
	}
	salvo = true;
}
document.getElementById("bradesco").onclick = function() {
	if (document.getElementById('forma').value!="BR") {
		AcendeForma();
		document.getElementById('bradesco').style.opacity = 1;
		document.getElementById('forma').value = "BR";
	} else {
		if (document.getElementById('forma').value=="BR") document.getElementById('forma').value = "";
		AcendeForma();
	}
	salvo = true;
}
document.getElementById("dinheiro").onclick = function() {
	if (document.getElementById('forma').value!="DM") {
		AcendeForma();
		document.getElementById('dinheiro').style.opacity = 1;
		document.getElementById('forma').value = "DM";
	} else {
		if (document.getElementById('forma').value=="DM") document.getElementById('forma').value = "";
		AcendeForma();
	}
	salvo = true;
}
function SalvaRegistro() {
	var RegValor = document.getElementById('valor').value;
	var RegDescricao = document.getElementById('descricao').value;
	if (pagina=="registro") {
		var RegData = document.getElementById('data').value;
	} else {
		var RegVencimento = document.getElementById('vencimento').value; 
		var RegParcela = document.getElementById('parcela').value;
		var RegResto = document.getElementById('resto').value;
	}
	var RegForma = document.getElementById('forma').value;
	if (RegValor=="") {return false;}
	if (RegDescricao=="") {return false;}
	if (pagina=="registro") {if (RegData=="") {return false;}}
	if (pagina=="mensal") {if (RegVencimento=="") {return false;}}
	if (pagina=="mensal") {if (RegParcela=="") {return false;}}
	if (pagina=="mensal") {if (RegResto=="") {return false;}}
	if (RegForma=="") {return false;}
	else if (salvo) {GravaRegistro();}
}
function GravaRegistro() {
	var RegCodigo = document.getElementById('codigo').value;
	var RegValor = document.getElementById('valor').value;//.replace(".","").replace(",",".");
	var RegDescricao = document.getElementById('descricao').value;
	if (pagina=="registro") {
		var RegData = document.getElementById('data').value.replace(/-/g,"/");
	} else {
		var RegVencimento = document.getElementById('vencimento').value; 
		var RegParcela = document.getElementById('parcela').value;
		var RegResto = document.getElementById('resto').value;
	}
	var RegForma = document.getElementById('forma').value;

	if (pagina=="registro") {
		var TabExtrato = JSON.parse(pegaCorrente);
	} else {
		var TabExtrato = JSON.parse(pegaMensal);
	}
		
	TabExtrato.sort(function(a, b) {
		return a.Data < b.Data ? -1 : a.Data > b.Data ? 1 : 0;
		return a.Descricao < b.Descricao ? -1 : a.Descricao > b.Descricao ? 1 : 0;
		return a.Valor < b.Valor ? -1 : a.Valor > b.Valor ? 1 : 0;
	});
		
	if (RegCodigo!="") {
		if (pagina=="registro") {var MostraData = formatadata(RegData);} else {var MostraData = RegVencimento;}
		if (RegValor<0) {var MostraValor = RegValor*-1;} else {var MostraValor = RegValor;}
		if (confirm("EDITAR "+RegDescricao.toUpperCase()+" :: "+MostraData+"\nR$ "+formatamoeda(MostraValor)+" ("+DefineForma(RegForma)+")")) {
			if (pagina=="registro") {
				const htmlCorrente = TabExtrato.map(objeto => {
					if (objeto.Codigo === RegCodigo) {
						return {"Codigo": RegCodigo, "Data": RegData, "Forma": RegForma, "Descricao": RegDescricao, "Valor": parseFloat(RegValor)};
					}
					return objeto;
				});
				if (dispositivo) android.SalvaBKP("base", "corrente.js", htmlCorrente);
			} else {
				const htmlMensal = TabExtrato.map(objeto => {
					if (objeto.Codigo === RegCodigo) {
						return {"Codigo": RegCodigo, "Forma": RegForma, "Descricao": RegDescricao, "Valor": parseFloat(RegValor), "Data": RegVencimento, "Parcela": RegParcela, "Resto": RegResto};
					}
					return objeto;
				});
				if (dispositivo) android.SalvaBKP("base", "mensal.js", htmlMensal);
				
				var TabCorrente = JSON.parse(pegaCorrente);
				
				TabCorrente.sort(function(a, b) {
					return a.Data < b.Data ? -1 : a.Data > b.Data ? 1 : 0;
					return a.Descricao < b.Descricao ? -1 : a.Descricao > b.Descricao ? 1 : 0;
					return a.Valor < b.Valor ? -1 : a.Valor > b.Valor ? 1 : 0;
				});
				
				var codCorrente = 0;
				for (var j=0; j<TabCorrente.length; j++) {
					if (TabCorrente[j].Descricao.indexOf(RegDescricao)>=0 && TabCorrente[j].Codigo != codCorrente) {
						codCorrente = TabCorrente[j].Codigo;
						codDescricao = TabCorrente[j].Descricao;
						codData = TabCorrente[j].Data;
						codForma = TabCorrente[j].Forma;
					}
				}
					
				const htmlCorrente = TabCorrente.map(objeto => {
					if (objeto.Codigo === codCorrente) {
						return {"Codigo": codCorrente, "Data": codData, "Forma": codForma, "Descricao": codDescricao, "Valor": parcelamento(parseFloat(RegValor),RegParcela)};
					}
					return objeto;
				});
				if (dispositivo) android.SalvaBKP("base", "corrente.js", htmlCorrente);
			}
			window.history.back();
		}
	} else {
		if (pagina=="registro") {
			TabExtrato.push({"Codigo": agora, "Data": RegData, "Forma": RegForma, "Descricao": RegDescricao, "Valor": RegValor});
			if (dispositivo) android.SalvaBKP("base", "corrente.js", htmlCorrente);
		} else {
			TabExtrato.push({"Codigo": agora, "Forma": RegForma, "Descricao": RegDescricao, "Valor": parseFloat(RegValor), "Data": Zerado(RegVencimento,2,''), "Parcela": RegParcela, "Resto": RegResto});
			if (dispositivo) android.SalvaBKP("base", "mensal.js", htmlMensal);
				
			var TabCorrente = JSON.parse(pegaCorrente);
					
			TabCorrente.sort(function(a, b) {
				return a.Data < b.Data ? -1 : a.Data > b.Data ? 1 : 0;
				return a.Descricao < b.Descricao ? -1 : a.Descricao > b.Descricao ? 1 : 0;
				return a.Valor < b.Valor ? -1 : a.Valor > b.Valor ? 1 : 0;
			});
					
			if (Zerado(RegVencimento,2,'')>Dia) {
				if (RegParcela>1) RegDescricao = RegDescricao+" "+RegResto+"/"+RegParcela;
				TabCorrente.push({"Codigo": agora, "Data": Ano+"/"+Mes+"/"+Zerado(RegVencimento,2,''), "Forma": RegForma, "Descricao": RegDescricao, "Valor": arredondamoeda(parcelamento(RegValor,RegParcela))});
				if (dispositivo) android.SalvaBKP("base", "corrente.js", htmlCorrente);
			}
		}
		window.location.reload();
	}
}
function ExcluiRegistro() {
	var RegCodigo = document.getElementById('codigo').value;
	var RegValor = document.getElementById('valor').value;//.replace(".","").replace(",",".");
	var RegDescricao = document.getElementById('descricao').value;
	if (pagina=="registro") {
		var RegData = document.getElementById('data').value.replace(/-/g,"/");
	} else {
		var RegVencimento = document.getElementById('vencimento').value; 
		var RegParcela = document.getElementById('parcela').value;
		var RegResto = document.getElementById('resto').value;
	}
	var RegForma = document.getElementById('forma').value;
	
	if (pagina=="registro") {
		var TabExtrato = JSON.parse(pegaCorrente);
	} else {
		var TabExtrato = JSON.parse(pegaMensal);
	}
		
	TabExtrato.sort(function(a, b) {
		return a.Data < b.Data ? -1 : a.Data > b.Data ? 1 : 0;
		return a.Descricao < b.Descricao ? -1 : a.Descricao > b.Descricao ? 1 : 0;
		return a.Valor < b.Valor ? -1 : a.Valor > b.Valor ? 1 : 0;
	});

	if (pagina=="registro") {var MostraData = formatadata(RegData);} else {var MostraData = RegVencimento;}
	if (RegValor<0) {var MostraValor = RegValor*-1;} else {var MostraValor = RegValor;}
	if (confirm("EXCLUIR "+RegDescricao.toUpperCase()+"\n"+MostraData+" :: R$ "+formatamoeda(MostraValor))) {
		if (pagina=="registro") {
			const htmlCorrente = TabExtrato.filter(item => item.Codigo !== RegCodigo);
			if (dispositivo) android.SalvaBKP("base", "corrente.js", htmlCorrente);
		} else {
			const htmlMensal = TabExtrato.filter(item => item.Codigo != RegCodigo);
			if (dispositivo) android.SalvaBKP("base", "mensal.js", htmlMensal);
		}
	}
	window.history.back();
}
document.getElementById("valor").onkeydown = function() {if (event.keyCode==13) document.getElementById("descricao").focus()}
document.getElementById("descricao").onkeydown = function() {if (event.keyCode==13) document.getElementById("data").focus()}
</script>
</body>
</html>
